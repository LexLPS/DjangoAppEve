{% extends "base.html" %}

{% block title %}{{ product.name }} – Eve{% endblock %}

{% block content %}
    <h1>{{ product.name }}</h1>

    <div style="display:flex; gap:30px; margin-top:20px; align-items:flex-start;">
        <div style="flex:0 0 320px;">
            {% if product.media %}
                <img src="{{ product.media.0.url }}" alt="{{ product.name }}" style="max-width:100%; border-radius:8px;">
            {% elif product.thumbnail and product.thumbnail.url %}
                <img src="{{ product.thumbnail.url }}" alt="{{ product.name }}" style="max-width:100%; border-radius:8px;">
            {% endif %}
        </div>

        <div style="flex:1;">
            {% if product.pricing and product.pricing.priceRange and product.pricing.priceRange.start %}
                {% with price=product.pricing.priceRange.start.gross %}
                    <p style="font-size:1.4em; font-weight:bold; margin-top:0;">
                        {{ price.amount }} {{ price.currency }}
                    </p>
                {% endwith %}
            {% endif %}

            {% if product.description %}
                <div style="margin-top:15px;">
                    {{ product.description|safe }}
                </div>
            {% endif %}

            <!-- Placeholder for future: add to cart -->
            <form method="post" action="#">
                {% csrf_token %}
                <button type="submit"
                        style="margin-top:20px; padding:10px 16px; border:none; border-radius:4px;
                               background:#20232a; color:white; cursor:pointer;">
                    Add to cart (coming soon)
                </button>
            </form>

            <p style="margin-top:15px;">
                <a href="{% url 'product_catalogue' %}">← Back to catalogue</a>
            </p>
        </div>
    </div>
{% endblock %}